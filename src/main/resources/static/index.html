<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DATA1700 3rd obligatory - Tickets</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous">
  <script type="module" src="main.js"></script>
</head>
<body>
  <header class="d-flex align-items-center justify-content-center py-2 bg-dark
                 text-light">
    <h1>Ticket Orders</h1>
  </header>
  <main class="container-fluid d-flex flex-column gap-5 py-5">
    <div class="row">
      <div class="col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 col-xxl-4
                  offset-xxl-4">
        <form class="shadow py-2 px-4" method="post" action="/tickets">
          <!--
          Name regex inspired by:
          https://a-tokyo.medium.com/first-and-last-name-validation-for-forms-and-databases-d3edf29ad29d
          -->
          <ul class="list-unstyled d-flex flex-column gap-3">
            <li class="align-self-center">
              <h2>New Order</h2>
            </li>
            <li>
              <label for="movie" class="form-label">Movie</label>
              <select id="movie" class="form-select w-50"
                      name="movieId" required>
                <option value="" hidden>--Select movie--</option>
              </select>
              <span class="invalid-feedback" aria-live="polite"></span>
            </li>
            <li>
              <label for="number" class="form-label">Number of Tickets</label>
              <input type="text" id="number"
                     class="form-control w-25"
                     name="numberOfTickets" inputmode="numeric"
                     pattern="\d{1,3}" maxlength="3" required
                     aria-describedby="form-text-nt">
              <span class="invalid-feedback" aria-live="polite"></span>
              <p id="form-text-nt" class="form-text">
                A number in range 1 - 100.
              </p>
            </li>
            <li>
              <label for="firstname" class="form-label">First Name</label>
              <input type="text" id="firstname"
                     class="form-control"
                     name="firstName"
                     pattern=" *[a-zA-Z\xC0-\uFFFF]+([ \-']?[a-zA-Z\xC0-\uFFFF]+){0,2}[.]? *"
                     required>
              <span class="invalid-feedback" aria-live="polite"></span>
            </li>
            <li>
              <label for="lastname" class="form-label">Last Name</label>
              <input type="text" id="lastname"
                     class="form-control"
                     name="lastName"
                     pattern=" *[a-zA-Z\xC0-\uFFFF]+([ \-']?[a-zA-Z\xC0-\uFFFF]+){0,2}[.]? *"
                     required>
              <span class="invalid-feedback" aria-live="polite"></span>
            </li>
            <li>
              <label for="phone-number" class="form-label">Phone Number</label>
              <input type="tel" id="phone-number"
                     class="form-control w-50"
                     name="phoneNumber"
                     pattern=" *[0-9]{2}[0-9 -.]*[0-9]{2} *"
                     maxlength="24" required
                     aria-describedby="form-text-pn">
              <span  class="invalid-feedback" aria-live="polite"></span>
              <p id="form-text-pn" class="form-text"
                 aria-describedby="phone-number">
                Must begin and end with 2 digits, otherwise you're free to mix
                it up with space, dot and hyphen. Max 24 characters.
              </p>
            </li>
            <li class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email"
                     class="form-control"
                     name="emailAddress" required>
              <span class="invalid-feedback" aria-live="polite"></span>
            </li>
            <li class="align-self-center">
              <button type="submit" class="btn btn-primary">
                Add Order</button>
            </li>
          </ul>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-10 offset-lg-1 col-xxl-8 offset-xxl-2
                 d-flex flex-column gap-3">
        <h3 class="text-center fw-lighter">All orders</h3>
        <div class="table-responsive">
          <table class="table table-sm table-striped text-center fw-lighter">
            <caption>All orders</caption>
            <colgroup>
              <col>
              <col>
              <col>
              <col>
              <col>
              <col>
            </colgroup>
            <thead>
            <tr>
              <th scope="col">Movie Title</th>
              <th scope="col">Number of Tickets</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Phone Number</th>
              <th scope="col">Email</th>
              <th scope="col"></th>
            </tr>
            </thead>
            <tbody aria-live="polite"></tbody>
          </table>
        </div>
        <button id="delete-tickets" class="btn btn-secondary align-self-end">
          Delete all
        </button>
      </div>
    </div>
  </main>
  <footer class="d-flex align-items-center justify-content-center border-top
                 py-3 text-body-secondary fw-lighter">
    <ul class="list-unstyled d-flex flex-column align-items-center">
      <li>
        <a class="text-reset" href="mailto:trtho1068@oslomet.no">
          trtho1068@oslomet.no</a>
      </li>
      <li>
        <a class="text-reset"
           href="https://github.com/trtho1068/DATA1700-oblig-2">GitHub repo</a>
      </li>
    </ul>
  </footer>
</body>
</html>