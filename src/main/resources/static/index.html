<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="style.css">
  <script type="module" src="main.js"></script>
</head>
<body>
  <main>
    <h1>Buy tickets</h1>
    <!--
    Blw form never submitted, still seems the logical container for our inputs
    Name regex inspired by https://a-tokyo.medium.com/first-and-last-name-validation-for-forms-and-databases-d3edf29ad29d
    Custom phone regex loosely accepts a variety of formats
    Email validation delegated to browser using type=email
    -->
    <form id="ticket">
      <ul>
        <li>
          <label for="movie">Movie</label>
          <select id="movie" name="movie" required>
            <option value="" hidden>--Select movie--</option>
          </select>
          <span id="error-movie" class="error" aria-live="polite"></span>
        </li>
        <li>
          <label for="number">Number</label>
          <input type="text" inputmode="numeric" id="number" name="number"
                 pattern="[1-9]\d*" maxlength="3" required>
          <span id="error-number" class="error" aria-live="polite"></span>
        </li>
        <li>
          <ul class="userdata">
            <li>
              <label for="firstname">Firstname</label>
              <input type="text" id="firstname" name="firstname"
                     pattern="^([a-zA-Z\xC0-\uFFFF]+([ \-']{0,1}[a-zA-Z\xC0-\uFFFF]+)*[.]{0,1}){1,2}$"
                     required>
              <span id="error-firstname" class="error" aria-live="polite"></span>
            </li>
            <li>
              <label for="lastname">Lastname</label>
              <input type="text" id="lastname" name="lastname"
                     pattern="^([a-zA-Z\xC0-\uFFFF]+([ \-']{0,1}[a-zA-Z\xC0-\uFFFF]+)*[.]{0,1}){1,2}$"
                     required>
              <span id="error-lastname" class="error" aria-live="polite"></span>
            </li>
            <li>
              <label for="phone-number">Phone number</label>
              <input type="tel" id="phone-number" name="phone-number"
                     pattern="^\s*(\d{1,4}[.\-\s]{0,1}){1,5}\d{1,4}\s*$">
              <span id="error-phone-number" class="error" aria-live="polite"></span>
            </li>
            <li>
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required>
              <span id="error-email" class="error" aria-live="polite"></span>
            </li>
          </ul>
        </li>
      </ul>
    </form>
    <button type="button" id="buy-ticket" form="ticket">Buy ticket</button>
    <h2>All tickets</h2>
    <table>
      <caption>All your tickets</caption>
      <colgroup>
        <col>
        <col>
        <col>
        <col>
        <col>
        <col>
      </colgroup>
      <thead>
        <tr>
          <th scope="col">Movie</th>
          <th scope="col">Number</th>
          <th scope="col">Firstname</th>
          <th scope="col">Lastname</th>
          <th scope="col">Phone number</th>
          <th scope="col">Email</th>
        </tr>
      </thead>
      <tbody id="all-tickets" aria-live="polite">
      </tbody>
    </table>
    <button id="delete-tickets">Delete all tickets</button>
  </main>
</body>
</html>